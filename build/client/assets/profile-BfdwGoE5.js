import{w as P}from"./with-props-BMy_yGDR.js";import{v as S,x as C,o}from"./chunk-IR6S3I6Y-DmKRdMYR.js";import{A as F,u as D}from"./avatar-BJvGI2je.js";import{a as U}from"./arrow-left-BD1zmGzF.js";import{u as h}from"./authStore-BusQRGVs.js";import{U as B}from"./profile-update-BuMHxzVH.js";import{F as r}from"./flex-BUJ8Rvdc.js";import{B as I,l as T}from"./QueryClientProvider-Y79vg6s4.js";import{I as d,a as A}from"./api-C3WgiByt.js";import{T as e}from"./text-DPDxdRnU.js";import{B as a}from"./box-Dg76m1IB.js";import{F as N}from"./float-Dj78ZGsy.js";import{C as L}from"./card-thread-D9E0Y6eK.js";import"./query-CfEU5IWo.js";import"./create-recipe-context-GxxJYqGB.js";import"./thread.schema-DDD88C0L.js";import"./icon-button-c1iJnyvC.js";import"./render-strategy-a8E6jqFR.js";import"./field.anatomy-BYGrjU18.js";import"./input-coGY6x29.js";import"./zod-CxjU56v7.js";import"./theme-CI7rxUqC.js";import"./index-BfRFUK5P.js";import"./js.cookie-Cz0CWeBA.js";import"./update-thread-dialog-KHqC5pOF.js";import"./h-stack-CzZcGfDb.js";import"./show-BT0EsfZw.js";function k(l){var x,p,f;const{user:t}=h(),i=(x=t==null?void 0:t.profile)==null?void 0:x.fullName,c=t==null?void 0:t.username,n=(p=t==null?void 0:t.profile)==null?void 0:p.avatarUrl,s=t==null?void 0:t.profile.bannerUrl,u=t==null?void 0:t.profile.bio,j=t==null?void 0:t.followersCount,g=t==null?void 0:t.followingCount,w=S();console.log("userData",t),console.log("fullname",(f=t==null?void 0:t.profile)==null?void 0:f.fullName);const{userId:y}=C(),m=y!==void 0;console.log("condition",m);const b=m?`${i}`:"My Profile";function v(){w("/")}return o.jsxs(r,{flexDir:"column",h:"full",...l,children:[o.jsxs(r,{alignItems:"center",mb:"2",children:[o.jsx(I,{variant:"ghost",display:"flex",gap:"4px",_hover:{bg:"initial"},color:"secondary",onClick:v,children:o.jsx(d,{src:U,width:"27px"})}),o.jsx(e,{color:"white",children:b})]}),o.jsxs(r,{flexDir:"column",px:"6",w:"full",children:[o.jsxs(a,{position:"relative",h:"12vh",w:"full",bg:"white",alignSelf:"center",rounded:"lg",children:[o.jsx(r,{w:"full",maxH:"70px",rounded:"lg",children:o.jsx(d,{src:s??"",rounded:"lg",objectFit:"cover",objectPosition:"center"})}),o.jsx(N,{placement:"bottom-start",offsetX:"10",children:o.jsx(F,{name:i||"",src:n??"",shape:"full",size:"full",width:"50px",height:"50px"})})]}),o.jsx(r,{alignSelf:"end",mt:"2",children:o.jsx(B,{})})]}),o.jsxs(r,{flexDir:"column",gap:"1",px:"6",children:[o.jsx(e,{textStyle:"md",color:"white",children:i}),o.jsxs(e,{textStyle:"xs",color:"text.light",children:["@",c]}),o.jsx(e,{textStyle:"sm",children:u||""}),o.jsxs(r,{gap:"2",textStyle:"sm",w:"full",children:[o.jsxs(e,{textStyle:"sm",color:"text.light",children:[j," Followers"]}),o.jsxs(e,{textStyle:"sm",color:"text.light",children:[g," Following"]})]})]})]})}function q(){const{user:l}=h(),{data:t,isLoading:i,isError:c,failureReason:n}=D({queryKey:["threads"],queryFn:async()=>(await A.get(`/threads/profile/${l==null?void 0:l.id}`)).data});return o.jsxs(a,{children:[c&&o.jsx(e,{color:"red",children:n==null?void 0:n.message}),i?o.jsx(a,{display:"flex",justifyContent:"center",paddingY:50,children:o.jsx(T,{})}):o.jsx(r,{flexDir:"column",mt:"2",children:t==null?void 0:t.map(s=>o.jsx(a,{borderColor:"bdr",borderWidth:"1px",children:o.jsx(L,{thread:s},s.id)}))})]})}function E(){return o.jsxs(r,{flexDir:"column",children:[o.jsx(k,{}),o.jsx(q,{})]})}const xo=P(function(){return o.jsx(E,{})});export{xo as default};
