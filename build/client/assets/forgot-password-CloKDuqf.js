import{w as u}from"./with-props-BMy_yGDR.js";import{v as x,o,y as f,z as g}from"./chunk-IR6S3I6Y-DmKRdMYR.js";import{c as h}from"./logo-BU9o5v3B.js";import{f as j}from"./theme-CI7rxUqC.js";import{t as c,B as F,l as b}from"./QueryClientProvider-Y79vg6s4.js";import{u as w,a as S,i as y,I as v}from"./api-C3WgiByt.js";import{f as P,C}from"./auth.schemas-CADUVsOR.js";import{u as E,s as I,F as z,b as B,c as L,a as R}from"./zod-CxjU56v7.js";import{B as a}from"./box-Dg76m1IB.js";import{I as T}from"./input-coGY6x29.js";import{H as W}from"./h-stack-CzZcGfDb.js";import{T as p}from"./text-DPDxdRnU.js";import"./create-recipe-context-GxxJYqGB.js";import"./field.anatomy-BYGrjU18.js";import"./index-BfRFUK5P.js";import"./js.cookie-Cz0CWeBA.js";function k(){const{register:e,handleSubmit:n,formState:{errors:s}}=E({mode:"onChange",resolver:I(P)}),m=x(),{isPending:l,mutateAsync:t}=w({mutationKey:["forgot-password"],mutationFn:async({email:r})=>(await S.post("/auth/forgot-password",{email:r})).data,onError:r=>{var d;if(y(r))return c.create({title:((d=r.response)==null?void 0:d.data).message,type:"error"});c.create({title:"Something went wrong!",type:"error"})},onSuccess:async r=>{c.create({title:r.message,type:"success"}),m({pathname:"login"})}});async function i(r){await t(r)}return{register:e,onSubmit:i,handleSubmit:n,errors:s,isPending:l}}function q(){var t,i;const{errors:e,handleSubmit:n,isPending:s,onSubmit:m,register:l}=k();return o.jsxs(C,{maxW:"md",mt:"128px",children:[o.jsxs(a,{my:"20px",children:[o.jsx(v,{src:h,mb:"20px"}),o.jsx(a,{fontSize:{base:"28px"},fontWeight:"700",color:"#FFFFFF",children:"Forgot Password"})]}),o.jsxs(f,{onSubmit:n(m),children:[o.jsx(z,{invalid:!!((t=e.email)!=null&&t.message),required:!0,children:o.jsxs(a,{pos:"relative",w:"full",children:[o.jsx(T,{className:"peer",placeholder:"",rounded:"lg",borderWidth:"2px",borderColor:"#545454",type:"email",color:"white",...l("email")}),o.jsxs(B,{css:j,children:["Email",o.jsx(L,{})]}),o.jsx(R,{children:(i=e.email)==null?void 0:i.message})]})}),o.jsx(a,{justifyContent:"flex-end",w:"full",mt:"12px",children:o.jsx(F,{variant:"solid",w:"full",role:"submit",rounded:"4xl",bg:"brand.solid",type:"submit",disabled:!!s,children:s?o.jsx(b,{}):"Send instruction"})})]}),o.jsxs(W,{direction:"row",w:"full",mt:"12px",children:[o.jsxs(p,{fontSize:{base:"14px"},color:"text.light",children:["already have account?"," "]}),o.jsx(g,{to:"/login",children:o.jsx(p,{color:"brand.solid",fontSize:{base:"14px"},children:"Login"})})]})]})}const $=u(function(){return o.jsx(q,{})});export{$ as default};
