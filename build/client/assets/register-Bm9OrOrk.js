import{w as S}from"./with-props-BMy_yGDR.js";import{v,o as e,y as C,z as N}from"./chunk-IR6S3I6Y-DmKRdMYR.js";import{c as R}from"./logo-BU9o5v3B.js";import{f as d}from"./theme-CI7rxUqC.js";import{u as L,s as W,F as m,b as u,c as p,a as x}from"./zod-CxjU56v7.js";import{r as q,C as E}from"./auth.schemas-CADUVsOR.js";import{u as I,a as z,i as B,I as P}from"./api-C3WgiByt.js";import{t as y,am as k,B as A}from"./QueryClientProvider-Y79vg6s4.js";import{B as t}from"./box-Dg76m1IB.js";import{I as h}from"./input-coGY6x29.js";import{H as T}from"./h-stack-CzZcGfDb.js";import{T as F}from"./text-DPDxdRnU.js";import"./create-recipe-context-GxxJYqGB.js";import"./field.anatomy-BYGrjU18.js";import"./js.cookie-Cz0CWeBA.js";import"./index-BfRFUK5P.js";function H(){const{register:r,handleSubmit:g,formState:{errors:f}}=L({mode:"onChange",resolver:W(q)}),j=v(),{isPending:i,mutateAsync:l}=I({mutationKey:["register"],mutationFn:async s=>{const{username:o,...n}=s,a=o.toLowerCase(),c={username:a,...n};return console.log("username",a),(await z.post("/auth/register",c)).data},onError:s=>{var o;if(console.log(s),B(s))return y.create({title:s.message,description:(o=s.response)==null?void 0:o.data.message,type:"error",duration:5e3});y.create({title:"Something went wrong!",type:"error"})},onSuccess:async s=>{y.create({title:s.message,type:"success"}),j({pathname:"/login"})}});return{register:r,handleSubmit:g,errors:f,onSubmit:async s=>{await l(s)},isPending:i}}function U(){var l,b,s,o,n,a,c,w;const{errors:r,handleSubmit:g,isPending:f,onSubmit:j,register:i}=H();return e.jsxs(E,{maxW:"md",mt:"128px",children:[e.jsxs(t,{my:"20px",children:[e.jsx(P,{src:R,mb:"20px"}),e.jsx(t,{fontSize:{base:"28px"},fontWeight:"700",color:"#FFFFFF",children:"Create circle Account"})]}),e.jsxs(C,{onSubmit:g(j),children:[e.jsxs(k,{w:"full",gap:"4",children:[e.jsxs(m,{invalid:!!((l=r.fullName)!=null&&l.message),required:!0,children:[e.jsxs(t,{pos:"relative",w:"full",children:[e.jsx(h,{className:"peer",placeholder:"",type:"text",rounded:"lg",borderWidth:"2px",borderColor:"#545454",color:"white",...i("fullName")}),e.jsxs(u,{css:d,color:"text.light",children:["Full Name ",e.jsx(p,{})]})]}),e.jsx(x,{children:(b=r.fullName)==null?void 0:b.message})]}),e.jsxs(m,{invalid:!!((s=r.username)!=null&&s.message),required:!0,children:[e.jsxs(t,{pos:"relative",w:"full",children:[e.jsx(h,{className:"peer",placeholder:"",rounded:"lg",borderWidth:"2px",borderColor:"#545454",color:"white",...i("username")}),e.jsxs(u,{css:d,color:"text.light",children:["Username ",e.jsx(p,{})]})]}),e.jsx(x,{children:(o=r.username)==null?void 0:o.message})]}),e.jsxs(m,{invalid:!!((n=r.email)!=null&&n.message),required:!0,children:[e.jsxs(t,{pos:"relative",w:"full",children:[e.jsx(h,{className:"peer",placeholder:"",type:"email",rounded:"lg",borderWidth:"2px",borderColor:"#545454",color:"white",...i("email")}),e.jsxs(u,{css:d,color:"text.light",children:["Email",e.jsx(p,{})]})]}),e.jsx(x,{children:(a=r.email)==null?void 0:a.message})]}),e.jsxs(m,{invalid:!!((c=r.password)!=null&&c.message),required:!0,children:[e.jsxs(t,{pos:"relative",w:"full",children:[e.jsx(h,{className:"peer",placeholder:"",type:"password",rounded:"lg",borderWidth:"2px",borderColor:"#545454",color:"white",...i("password")}),e.jsxs(u,{css:d,color:"text.light",children:["Password ",e.jsx(p,{})]})]}),e.jsx(x,{children:(w=r.password)==null?void 0:w.message})]})]}),e.jsx(t,{justifyContent:"flex-end",w:"full",mt:"12px",children:e.jsx(A,{variant:"solid",w:"full",role:"submit",borderRadius:"full",bg:"brand.solid",type:"submit",loading:!!f,children:"Let's Go"})})]}),e.jsxs(T,{direction:"row",w:"full",mt:"12px",children:[e.jsxs(F,{fontSize:{base:"14px"},color:"text.light",children:["already have account?"," "]}),e.jsx(N,{to:"/login",children:e.jsx(F,{color:"brand.solid",fontSize:{base:"14px"},children:"Login"})})]})]})}const oe=S(function(){return e.jsx(U,{})});export{oe as default};
