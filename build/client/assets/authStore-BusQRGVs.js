import{p as E}from"./chunk-IR6S3I6Y-DmKRdMYR.js";const T=t=>{let e;const n=new Set,a=(f,o)=>{const d=typeof f=="function"?f(e):f;if(!Object.is(d,e)){const v=e;e=o??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(l=>l(e,v))}},s=()=>e,i={setState:a,getState:s,getInitialState:()=>p,subscribe:f=>(n.add(f),()=>n.delete(f))},p=e=t(a,s,i);return i},w=t=>t?T(t):T,R=t=>t;function C(t,e=R){const n=E.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return E.useDebugValue(n),n}const D=t=>{const e=w(t),n=a=>C(e,a);return Object.assign(n,e),n},L=t=>D,I={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://circle-backend-bice.vercel.app/"},m=new Map,g=t=>{const e=m.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,a])=>[n,a.getState()])):{}},j=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const a=m.get(n.name);if(a)return{type:"tracked",store:t,...a};const s={connection:e.connect(n),stores:{}};return m.set(n.name,s),{type:"tracked",store:t,...s}},A=(t,e={})=>(n,a,s)=>{const{enabled:_,anonymousActionType:O,store:i,...p}=e;let f;try{f=(_??(I?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return t(n,a,s);const{connection:o,...d}=j(i,f,p);let v=!0;s.setState=(c,S,r)=>{const u=n(c,S);if(!v)return u;const h=r===void 0?{type:O||"anonymous"}:typeof r=="string"?{type:r}:r;return i===void 0?(o==null||o.send(h,a()),u):(o==null||o.send({...h,type:`${i}/${h.type}`},{...g(p.name),[i]:s.getState()}),u)};const l=(...c)=>{const S=v;v=!1,n(...c),v=S},y=t(s.setState,a,s);if(d.type==="untracked"?o==null||o.init(y):(d.stores[d.store]=s,o==null||o.init(Object.fromEntries(Object.entries(d.stores).map(([c,S])=>[c,c===d.store?y:S.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let c=!1;const S=s.dispatch;s.dispatch=(...r)=>{(I?"production":void 0)!=="production"&&r[0].type==="__setState"&&!c&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),c=!0),S(...r)}}return o.subscribe(c=>{var S;switch(c.type){case"ACTION":if(typeof c.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return b(c.payload,r=>{if(r.type==="__setState"){if(i===void 0){l(r.state);return}Object.keys(r.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const u=r.state[i];if(u==null)return;JSON.stringify(s.getState())!==JSON.stringify(u)&&l(u);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(r)});case"DISPATCH":switch(c.payload.type){case"RESET":return l(y),i===void 0?o==null?void 0:o.init(s.getState()):o==null?void 0:o.init(g(p.name));case"COMMIT":if(i===void 0){o==null||o.init(s.getState());return}return o==null?void 0:o.init(g(p.name));case"ROLLBACK":return b(c.state,r=>{if(i===void 0){l(r),o==null||o.init(s.getState());return}l(r[i]),o==null||o.init(g(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return b(c.state,r=>{if(i===void 0){l(r);return}JSON.stringify(s.getState())!==JSON.stringify(r[i])&&l(r[i])});case"IMPORT_STATE":{const{nextLiftedState:r}=c.payload,u=(S=r.computedStates.slice(-1)[0])==null?void 0:S.state;if(!u)return;l(i===void 0?u:u[i]),o==null||o.send(null,r);return}case"PAUSE_RECORDING":return v=!v}return}}),y},k=A,b=(t,e)=>{let n;try{n=JSON.parse(t)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}n!==void 0&&e(n)},U=L()(k(t=>({user:null,isLoading:!0,token:null,setUser:e=>t(n=>({user:{...n.user,...e},isLoading:!1})),logout:()=>t(()=>({user:null,isLoading:!1})),startLoading:()=>t({isLoading:!0}),stopLoading:()=>t({isLoading:!1})})));export{U as u};
