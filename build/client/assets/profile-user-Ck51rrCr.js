import{w as b}from"./with-props-BMy_yGDR.js";import{x as j,v,o as e}from"./chunk-IR6S3I6Y-DmKRdMYR.js";import{u as g,A as C}from"./avatar-BJvGI2je.js";import{a as S}from"./arrow-left-BD1zmGzF.js";import{a as w,I as d}from"./api-C3WgiByt.js";import{B as x}from"./box-Dg76m1IB.js";import{l as y,B as h}from"./QueryClientProvider-Y79vg6s4.js";import{F as o}from"./flex-BUJ8Rvdc.js";import{T as t}from"./text-DPDxdRnU.js";import{F}from"./float-Dj78ZGsy.js";import{C as U}from"./card-thread-D9E0Y6eK.js";import"./query-CfEU5IWo.js";import"./create-recipe-context-GxxJYqGB.js";import"./js.cookie-Cz0CWeBA.js";import"./index-BfRFUK5P.js";import"./update-thread-dialog-KHqC5pOF.js";import"./thread.schema-DDD88C0L.js";import"./icon-button-c1iJnyvC.js";import"./render-strategy-a8E6jqFR.js";import"./field.anatomy-BYGrjU18.js";import"./input-coGY6x29.js";import"./zod-CxjU56v7.js";import"./authStore-BusQRGVs.js";import"./h-stack-CzZcGfDb.js";import"./show-BT0EsfZw.js";function P(){const{userId:s}=j(),{data:r,isLoading:l}=g({queryKey:[`users/${s}`],queryFn:async()=>(await w.get(`users/${s}`)).data.user});console.log("data",r);const c=(r==null?void 0:r.profile.fullName)||"",i=(r==null?void 0:r.username)||"",n=(r==null?void 0:r.profile.avatarUrl)||"",a=(r==null?void 0:r.profile.bannerUrl)||"",m=(r==null?void 0:r.profile.bio)||"",p=(r==null?void 0:r.followersCount)||0,f=(r==null?void 0:r.followingCount)||0;return{fullName:c,username:i,bannerUrl:a,avatarUrl:n,bio:m,followersCount:p,followingCount:f,isLoading:l}}function D(s){const r=v(),{fullName:l,username:c,avatarUrl:i,bannerUrl:n,bio:a,followersCount:m,followingCount:p,isLoading:f}=P();function u(){r("/")}return e.jsx(e.Fragment,{children:f?e.jsx(x,{display:"flex",justifyContent:"center",py:50,children:e.jsx(y,{})}):e.jsxs(o,{flexDir:"column",h:"full",...s,children:[e.jsxs(o,{alignItems:"center",mb:"2",children:[e.jsx(h,{variant:"ghost",display:"flex",gap:"4px",_hover:{bg:"initial"},color:"secondary",onClick:u,children:e.jsx(d,{src:S,width:"27px"})}),e.jsx(t,{color:"white",children:l})]}),e.jsxs(o,{flexDir:"column",px:"6",children:[e.jsxs(x,{position:"relative",h:"12vh",w:"full",bg:"white",alignSelf:"center",rounded:"lg",children:[e.jsx(o,{w:"full",maxH:"70px",rounded:"lg",children:e.jsx(d,{src:n??"",rounded:"lg",objectFit:"cover",objectPosition:"center"})}),e.jsx(F,{placement:"bottom-start",offsetX:"10",children:e.jsx(C,{name:l||"",src:i??"",shape:"full",size:"full",width:"50px",height:"50px"})})]}),e.jsx(h,{w:"7vw",h:"5vh",mt:"2",alignSelf:"end",bg:"none",color:"white",borderWidth:"1px",borderColor:"white",rounded:"full",alignItems:"center",children:"follow"})]}),e.jsxs(o,{flexDir:"column",gap:"1",px:"6",children:[e.jsx(t,{textStyle:"md",color:"white",children:l}),e.jsxs(t,{textStyle:"xs",color:"text.light",children:["@",c]}),e.jsx(t,{textStyle:"sm",children:a||""}),e.jsxs(o,{gap:"2",textStyle:"sm",w:"full",children:[e.jsxs(o,{spaceX:"1",children:[e.jsx(t,{textStyle:"sm",color:"text.light",children:m}),e.jsx(t,{textStyle:"sm",color:"text.light",children:"Followers"})]}),e.jsxs(o,{spaceX:"1",children:[e.jsx(t,{textStyle:"sm",color:"text.light",children:p}),e.jsx(t,{textStyle:"sm",color:"text.light",children:"Following"})]})]})]})]})})}function I(){const{userId:s}=j(),{data:r,isLoading:l,isError:c,failureReason:i}=g({queryKey:["threads"],queryFn:async()=>(await w.get(`/threads/profile/${s}`)).data});return e.jsxs(x,{children:[c&&e.jsx(t,{color:"red",children:i==null?void 0:i.message}),l?e.jsx(x,{display:"flex",justifyContent:"center",paddingY:50,children:e.jsx(y,{})}):e.jsx(o,{flexDir:"column",mt:"2",children:r==null?void 0:r.map(n=>e.jsx(x,{borderWidth:"1px",borderColor:"bdr",children:e.jsx(U,{thread:n},n.id)}))})]})}function L(){return e.jsxs(o,{flexDir:"column",children:[e.jsx(D,{}),e.jsx(I,{})]})}const oe=b(function(){return e.jsx(L,{})});export{oe as default};
